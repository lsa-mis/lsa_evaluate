<div class="card">
  <div class="card-header bg-light">
    <h3 class="h5 mb-0">Available Entries</h3>
  </div>
  <div class="card-body">
    <div class="entries-list" data-entry-drag-target="availableEntries">
      <% ranked_entry_ids = EntryRanking.where(
        judging_round: assignment.contest_instance.current_judging_round,
        user: current_user
      ).pluck(:entry_id) %>

      <% assignment.contest_instance.current_round_entries
          .where.not(id: ranked_entry_ids)
          .each do |entry| %>
        <%= turbo_frame_tag dom_id(entry) do %>
          <div class="card mb-2" data-entry-id="<%= entry.id %>">
            <div class="card-body d-flex align-items-center">
              <div class="drag-handle me-2">⋮⋮</div>
              <div class="flex-grow-1">
                <div class="card-title d-flex align-items-baseline justify-content-between">
                  <div class="btn-group">
                    <%= link_to 'View Entry', rails_blob_path(entry.entry_file, disposition: "inline"),
                        target: '_blank', class: 'btn btn-sm btn-secondary' %>
                  </div>
                </div>
                <h5><%= entry.title %></h5>
              </div>
            </div>
            <div class="text-muted ms-2" style="font-size: 0.6em;">[entryID: <%= entry.id %>]</div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
